# file: bossjones.common/tasks/setup_gstreamer.yml
---

- name: Read the setup_python variables
  include_vars: "setup_gstreamer.yml"

- name: Add gstreamer-developers repo PPA
  apt_repository: repo='ppa:gstreamer-developers/ppa' state=present update_cache=yes
  sudo: yes
  tags:
  - gstreamer
  - packages

- name: Make sure the gstreamer_prereqs packages are installed (Debian)
  apt:
    name: "{{item}}"
    state: present
  with_items: gstreamer_prereqs
  sudo: yes
  tags:
  - gstreamer
  - packages
  - install_packages

- name: install build-deps for gstreamer1.0-plugins-base gstreamer1.0-plugins-good gstreamer1.0-plugins-ugly gstreamer1.0-plugins-ugly
  apt: pkg={{ item }} state=build-dep
  with_items:
  - gstreamer1.0-plugins-base
  - gstreamer1.0-plugins-good
  - gstreamer1.0-plugins-ugly
  tags:
  - gstreamer
  - packages
  - install_build-dep
