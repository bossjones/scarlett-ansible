# file: bossjones.common/tasks/build_essentials.yml
---

- name: Read the family variables
  include_vars: "{{ansible_os_family}}.yml"

- name: Make sure the packages are installed (Debian)
  apt:
    name: "{{item}}"
    state: present
  with_items: buildessential_packages
  register: output
  changed_when: "'0 upgraded, 0 newly installed, 0 to remove' not in output.stdout and 'not upgraded' not in output.stdout"
  when: ansible_os_family == "Debian"
  sudo: yes
